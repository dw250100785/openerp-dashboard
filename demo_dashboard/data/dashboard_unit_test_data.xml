<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    
        <record id="ut_board" model="dashboard.board">
            <field name="name">UnitTestBoard</field>
            <field name="period_name">month</field>
            <field name="period_type">calendar</field>
        </record>
        
        <!-- widget 1 -->
        
        <record id="ut_widget" model="dashboard.widget">
            <field name="name">UnitTestWidget</field>
            <field name="type">graph</field>
        </record>
        
        
        <record id="ut_btw_test" model="dashboard.board_to_widget_rel">
            <field name="board_id" ref="ut_board" />
            <field name="widget_id" ref="ut_widget" />
            <field name="sequence">1</field>
            <field name="width">10</field>
            <field name="height">10</field>
        </record>
    
        <!-- metrics -->
        
        <record id="ut_metric_1" model="dashboard.metric">
            <field name="name">Count</field>
            <field name="type">numeric</field>
       
            <field name="query_name">count</field>
            <field name="method">execute</field>
       
            <field name="model" ref="model_dashboard_test" />
            <field name="widget_id" ref="ut_widget" />
       
            <field name="options" eval="{}" />
            <field name="values" eval="{}"/>
        </record>
        
        <record id="ut_metric_2" model="dashboard.metric">
            <field name="name">CustomCount</field>
            <field name="type">numeric</field>
       
            <field name="query_name">custom_count</field>
            <field name="method">execute</field>
       
            <field name="model" ref="model_dashboard_test" />
            <field name="widget_id" ref="ut_widget" />
       
            <field name="options" eval="{}" />
            <field name="values" eval="{}"/>
        </record>
    
        <record id="ut_metric_3" model="dashboard.metric">
            <field name="name">GraphPrice</field>
            <field name="type">graph</field>
       
            <field name="query_name">graph_price</field>
            <field name="method">execute</field>
       
            <field name="model" ref="model_dashboard_test" />
            <field name="widget_id" ref="ut_widget" />
       
            <field name="options" eval="{'type': 'bar'}" />
            <field name="values" eval="{}"/>
        </record>
    
        <record id="ut_metric_4" model="dashboard.metric">
            <field name="name">GraphQuantity</field>
            <field name="type">graph</field>
       
            <field name="query_name">graph_quantity</field>
            <field name="method">execute</field>
       
            <field name="model" ref="model_dashboard_test" />
            <field name="widget_id" ref="ut_widget" />
       
            <field name="options" eval="{'type': 'bar'}" />
            <field name="values" eval="{}"/>
        </record>
    
        <!-- common fields -->
        
        <record id="ut_field_name" model="dashboard.field">
            <field name="name">Name</field>
            <field name="reference">name</field>
            <field name="sql_name">dt.name</field>
       
            <field eval="[(6,0,[ref('ut_metric_1'),ref('ut_metric_2'),ref('ut_metric_3'),ref('ut_metric_4')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_domain'),ref('trobz_dashboard.type_output'),ref('trobz_dashboard.type_group'),ref('trobz_dashboard.type_order')])]" name="type_ids"/>
            <field name="field_id" ref="field_dashboard_test_name" />
        </record>
        
        <record id="ut_field_category" model="dashboard.field">
            <field name="name">Category</field>
            <field name="reference">category</field>
            <field name="sql_name">dt.category</field>
       
            <field eval="[(6,0,[ref('ut_metric_1'),ref('ut_metric_2'),ref('ut_metric_3'),ref('ut_metric_4')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_domain'),ref('trobz_dashboard.type_output'),ref('trobz_dashboard.type_group'),ref('trobz_dashboard.type_order')])]" name="type_ids"/>
            <field name="field_id" ref="field_dashboard_test_category" />
        </record>
        
        <record id="ut_field_price" model="dashboard.field">
            <field name="name">Price</field>
            <field name="reference">price</field>
            <field name="sql_name">dt.price</field>
       
            <field eval="[(6,0,[ref('ut_metric_1'),ref('ut_metric_2'),ref('ut_metric_3'),ref('ut_metric_4')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_domain'),ref('trobz_dashboard.type_output'),ref('trobz_dashboard.type_group'),ref('trobz_dashboard.type_order')])]" name="type_ids"/>
            <field name="field_id" ref="field_dashboard_test_price" />
        </record>
        
        <record id="ut_field_quantity" model="dashboard.field">
            <field name="name">Quantity</field>
            <field name="reference">quantity</field>
            <field name="sql_name">dt.quantity</field>
       
            <field eval="[(6,0,[ref('ut_metric_1'),ref('ut_metric_2'),ref('ut_metric_3'),ref('ut_metric_4')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_domain'),ref('trobz_dashboard.type_output'),ref('trobz_dashboard.type_group'),ref('trobz_dashboard.type_order')])]" name="type_ids"/>
            <field name="field_id" ref="field_dashboard_test_quantity" />
        </record>
        
        <record id="ut_field_sale_date" model="dashboard.field">
            <field name="name">Sale Date</field>
            <field name="reference">sale_date</field>
            <field name="sql_name">dt.sale_date</field>
       
            <field eval="[(6,0,[ref('ut_metric_1'),ref('ut_metric_2'),ref('ut_metric_3'),ref('ut_metric_4')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_domain'),ref('trobz_dashboard.type_output'),ref('trobz_dashboard.type_period')])]" name="type_ids"/>
            <field name="field_id" ref="field_dashboard_test_sale_date" />
        </record>
        
        <!-- custom fields : metric 1 -->
        
        <record id="ut_field_count" model="dashboard.field">
            <field name="name">Count</field>
            <field name="reference">count</field>
            <field name="sql_name">count</field>
       
            <field eval="[(6,0,[ref('ut_metric_1')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_output')])]" name="type_ids"/>
        </record>
        
        <!-- custom fields : metric 1 -->
        
        <record id="ut_field_custom_count" model="dashboard.field">
            <field name="name">Count (end with 10)</field>
            <field name="reference">count</field>
            <field name="sql_name">count</field>
       
            <field eval="[(6,0,[ref('ut_metric_2')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_output')])]" name="type_ids"/>
        </record>
        
        <!-- custom fields : metric 1 -->
        
        <record id="ut_field_total_price" model="dashboard.field">
            <field name="name">Total Price</field>
            <field name="reference">total_price</field>
            <field name="sql_name">total_price</field>
       
            <field eval="[(6,0,[ref('ut_metric_3')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_output')])]" name="type_ids"/>
        </record>
        
        <!-- custom fields : metric 1 -->
        
        <record id="ut_field_total_quantity" model="dashboard.field">
            <field name="name">Total Quantity</field>
            <field name="reference">total_quantity</field>
            <field name="sql_name">total_quantity</field>
       
            <field eval="[(6,0,[ref('ut_metric_4')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_output')])]" name="type_ids"/>
        </record>
        
        <!-- fields for graph groups -->
          
        <record id="ut_field_sale_year" model="dashboard.field">
            <field name="name">Sale by Year</field>
            <field name="reference">sale_year</field>
            <field name="sql_name">date_trunc('year', dt.sale_date)</field>
       
            <field eval="[(6,0,[ref('ut_metric_3'), ref('ut_metric_4')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_output'), ref('trobz_dashboard.type_group')])]" name="type_ids"/>
            <field name="field_id" ref="field_dashboard_test_sale_date" />
        </record>
        
        <record id="ut_field_sale_month" model="dashboard.field">
            <field name="name">Sale by Month</field>
            <field name="reference">sale_month</field>
            <field name="sql_name">date_trunc('month', dt.sale_date)</field>
       
            <field eval="[(6,0,[ref('ut_metric_3'), ref('ut_metric_4')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_output'), ref('trobz_dashboard.type_group')])]" name="type_ids"/>
            <field name="field_id" ref="field_dashboard_test_sale_date" />
        </record>
        
        <record id="ut_field_sale_week" model="dashboard.field">
            <field name="name">Sale by Week</field>
            <field name="reference">sale_week</field>
            <field name="sql_name">date_trunc('week', dt.sale_date)</field>
       
            <field eval="[(6,0,[ref('ut_metric_3'), ref('ut_metric_4')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_output'), ref('trobz_dashboard.type_group')])]" name="type_ids"/>
            <field name="field_id" ref="field_dashboard_test_sale_date" />
        </record>
        
        <record id="ut_field_sale_day" model="dashboard.field">
            <field name="name">Sale by Day</field>
            <field name="reference">sale_day</field>
            <field name="sql_name">date_trunc('day', dt.sale_date)</field>
       
            <field eval="[(6,0,[ref('ut_metric_3'), ref('ut_metric_4')])]" name="metric_ids" />
            <field eval="[(6,0,[ref('trobz_dashboard.type_output'), ref('trobz_dashboard.type_group')])]" name="type_ids"/>
            <field name="field_id" ref="field_dashboard_test_sale_date" />
        </record>
          
    </data>
</openerp>
